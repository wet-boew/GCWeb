window.CanvasRenderingContext2D||!function(){function a(a){var b=a.srcElement;switch(a.propertyName){case"width":b.style.width=b.attributes.width.nodeValue+"px",b.getContext().clearRect();break;case"height":b.style.height=b.attributes.height.nodeValue+"px",b.getContext().clearRect()}}function b(){document.write('<script type=text/xaml><Canvas x:Name="root" xmlns="http://schemas.microsoft.com/client/2007" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Width="300" Height="150" Background="Transparent"> </Canvas></script>');var a=document.scripts,b=a[a.length-1];C=b.uniqueID,b.id=C}function c(){return'<div><object type="application/x-silverlight" ><param name="windowless" value="true"><param name="background" value="transparent"><param name="source" value="#'+C+'">'+"</object><div></div></div>"}function d(){return[[1,0,0],[0,1,0],[0,0,1]]}function e(a,b){for(var c=d(),e=0;3>e;e++)for(var f=0;3>f;f++){for(var g=0,h=0;3>h;h++)g+=a[e][h]*b[h][f];c[e][f]=g}return c}function f(a,b,c){var d,e=b.renderTransform;e?d=e.matrix:(e=r(a,"<MatrixTransform/>"),d=r(a,"<Matrix/>"),e.matrix=d,b.renderTransform=e),d.m11=c[0][0],d.m12=c[0][1],d.m21=c[1][0],d.m22=c[1][1],d.offsetX=c[2][0],d.offsetY=c[2][1]}function g(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.arcScaleX_=a.arcScaleX_,b.arcScaleY_=a.arcScaleY_}function i(a){var b=a.indexOf("(",3),c=a.indexOf(")",b+1),d=a.substring(b+1,c).split(",");return 4==d.length&&"a"==a.substr(3,1)?alpha=+d[3]:d[3]=1,d}function j(a){return parseFloat(a)/100}function k(a,b,c){return Math.min(c,Math.max(b,a))}function m(a){var b,c,d;if(h=parseFloat(a[0])/360%360,0>h&&h++,s=k(j(a[1]),0,1),l=k(j(a[2]),0,1),0==s)b=c=d=l;else{var e=.5>l?l*(1+s):l+s-l*s,f=2*l-e;b=n(f,e,h+1/3),c=n(f,e,h),d=n(f,e,h-1/3)}return H[Math.floor(255*b)]+H[Math.floor(255*c)]+H[Math.floor(255*d)]}function n(a,b,c){return 0>c&&c++,c>1&&c--,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}function o(a){var b,c=1;if(a=String(a),"#"==a.charAt(0))return a;if(/^rgb/.test(a)){for(var d,e=i(a),b="",f=0;3>f;f++)d=-1!=e[f].indexOf("%")?Math.floor(255*j(e[f])):+e[f],b+=H[k(d,0,255)];c=e[3]}else{if(!/^hsl/.test(a))return a in I?I[a]:a;var e=i(a);b=m(e),c=e[3]}return"#"+E[Math.floor(255*c)]+b}function p(a){switch(a){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function q(a){return a.canvas.firstChild.firstChild.content.findName("root")}function r(a,b,c){c&&(b=b.replace(/\%(\d+)/g,function(a,b){return c[+b-1]}));try{return a.canvas.firstChild.firstChild.content.createFromXaml(b)}catch(d){throw Error("Could not create XAML from: "+b)}}function t(a,b,c){var d=a.lastCanvas_||r(a,"<Canvas/>"),e=r(a,b,c);return d.children.add(e),f(a,d,a.m_),a.lastCanvas_||(q(a).children.add(d),a.lastCanvas_=d),e}function u(a,b){if(b instanceof x)return b.createBrush_(a);if(b instanceof B)throw Error("Not implemented");return r(a,'<SolidColorBrush Color="%1"/>',[o(b)])}function v(a){this.m_=d(),this.lastCanvas_=null,this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=10,this.globalAlpha=1,this.canvas=a}function w(a,b){a.m_=b,a.lastCanvas_=null}function x(){this.colors_=[]}function y(a,b,c,d){x.call(this),this.x0_=a,this.y0_=b,this.x1_=c,this.y1_=d}function z(a){return isNaN(a)||!isFinite(a)}function A(a,b,c,d,e,f){if(0>c||0>f||z(a)||z(b)||z(d)||z(e)){var g=Error("DOMException.INDEX_SIZE_ERR");throw g.code=1,g}x.call(this),this.x0_=a,this.y0_=b,this.r0_=c,this.x1_=d,this.y1_=e,this.r1_=f}function B(){}var C,D={init:function(a){var c=a||document;if(c.createElement("canvas"),/MSIE/.test(navigator.userAgent)&&!window.opera){var d=this;b(),c.attachEvent("onreadystatechange",function(){d.init_(c)})}},init_:function(a){var b=a.createStyleSheet();b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}canvas *{width:100%;height:100%;border:0;background:transparen;margin:0}canvas div {position:relative}canvas div div{position:absolute;top:0;filter:alpha(opacity=0);background:red}";for(var c=a.getElementsByTagName("canvas"),d=0;d<c.length;d++)c[d].getContext||this.initElement(c[d])},initElement:function(b){b.getContext=function(){return this.context_?this.context_:this.context_=new v(this)};var d=b.attributes;return d.width&&d.width.specified?b.style.width=d.width.nodeValue+"px":b.width=b.clientWidth,d.height&&d.height.specified?b.style.height=d.height.nodeValue+"px":b.height=b.clientHeight,b.innerHTML=c(),b.attachEvent("onpropertychange",a),b}};D.init();for(var E=[],F=0;16>F;F++)for(var G=0;16>G;G++)E[16*F+G]=F.toString(16)+G.toString(16);for(var H=[],F=0;16>F;F++)for(var G=0;16>G;G++)H[16*F+G]=F.toString(16)+G.toString(16);var I={darkgrey:"#A9A9A9",darkslategrey:"#2F4F4F",dimgrey:"#696969",grey:"#808080",lightgrey:"#D3D3D3",lightslategrey:"#778899",slategrey:"#708090"},J=v.prototype;J.clearRect=function(){var a=q(this);a.children.clear(),this.currentPath_=[],this.lastCanvas_=null},J.beginPath=function(){this.currentPath_=[]},J.moveTo=function(a,b){this.currentPath_.push("M"+a+","+b)},J.lineTo=function(a,b){0!=this.currentPath_.length&&this.currentPath_.push("L"+a+","+b)},J.bezierCurveTo=function(a,b,c,d,e,f){0!=this.currentPath_.length&&this.currentPath_.push("C"+a+","+b+" "+c+","+d+" "+e+" "+f)},J.quadraticCurveTo=function(a,b,c,d){0!=this.currentPath_.length&&this.currentPath_.push("Q"+a+","+b+" "+c+","+d)},J.arcTo=function(){0==this.currentPath_.length},J.arc=function(a,b,c,d,e,f){var g=Math.abs(d-e);if(d!=e){var h=a+c*Math.cos(e),i=b+c*Math.sin(e);if(g>=2*Math.PI)return this.arc(a,b,c,d,d+Math.PI,f),this.arc(a,b,c,d+Math.PI,d+2*Math.PI,f),this.moveTo(h,i),void 0;var j=a+c*Math.cos(d),k=b+c*Math.sin(d),l=180*g/Math.PI,m=f?0:1,n=l>=180==Boolean(f)?0:1;0!=this.currentPath_.length?this.lineTo(j,k):this.moveTo(j,k),this.currentPath_.push("A"+c+","+c+" "+l+" "+n+" "+m+" "+h+","+i)}},J.rect=function(a,b,c,d){this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath()},J.strokeRect=function(a,b,c,d){this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.stroke(),this.currentPath_=[]},J.fillRect=function(a,b,c,d){this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.fill(),this.currentPath_=[]},J.createLinearGradient=function(a,b,c,d){return new y(a,b,c,d)},J.createRadialGradient=function(a,b,c,d,e,f){return new A(a,b,c,d,e,f)},J.drawImage=function(a){var b,c,g,h,i,j,k,l;if(3==arguments.length)b=arguments[1],c=arguments[2];else if(5==arguments.length)b=arguments[1],c=arguments[2],g=arguments[3],h=arguments[4];else{if(9!=arguments.length)throw Error("Invalid number of arguments");i=arguments[1],j=arguments[2],k=arguments[3],l=arguments[4],b=arguments[5],c=arguments[6],g=arguments[7],h=arguments[8]}var m;if(9==arguments.length){m=t(this,'<Image Source="%1"/>',[a.src]);var n=r(this,'<RectangleGeometry Rect="%1,%2,%3,%4"/>',[i,j,k,l]);m.clip=n;var o=d();o[2][0]=-i,o[2][1]=-j;var p=d();p[0][0]=g/k,p[1][1]=h/l,o=e(o,p),o[2][0]+=b,o[2][1]+=c,f(this,m,o)}else m=t(this,'<Image Source="%1" Canvas.Left="%2" Canvas.Top="%3"/>',[a.src,b,c]),(void 0!=g||void 0!=h)&&(m.width=g,m.height=h,m.stretch="fill")},J.stroke=function(){if(0!=this.currentPath_.length){var a=t(this,'<Path Data="%1"/>',[this.currentPath_.join(" ")]);a.stroke=u(this,this.strokeStyle),a.opacity=this.globalAlpha,a.strokeThickness=this.lineWidth,a.strokeMiterLimit=this.miterLimit,a.strokeLineJoin=this.lineJoin,a.strokeEndLineCap=a.strokeStartLineCap=p(this.lineCap)}},J.fill=function(){if(0!=this.currentPath_.length){var a=t(this,'<Path Data="%1"/>',[this.currentPath_.join(" ")]);a.data.fillRule="NonZero",a.fill=u(this,this.fillStyle),a.fill.opacity=this.globalAlpha}},J.closePath=function(){this.currentPath_.push("z")},J.save=function(){var a={};g(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),w(this,e(d(),this.m_))},J.restore=function(){g(this.aStack_.pop(),this),w(this,this.mStack_.pop())},J.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];w(this,e(c,this.m_))},J.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=[[b,c,0],[-c,b,0],[0,0,1]];w(this,e(d,this.m_))},J.scale=function(a,b){var c=[[a,0,0],[0,b,0],[0,0,1]];w(this,e(c,this.m_))},J.transform=function(a,b,c,d,f,g){var h=[[a,b,0],[c,d,0],[f,g,1]];w(this,e(h,this.m_))},J.setTransform=function(a,b,c,d,e,f){w(this,[[a,b,0],[c,d,0],[e,f,1]])},J.clip=function(){if(this.currentPath_.length){var a=this.currentPath_.join(" "),b=r(this,'<Canvas Width="%1" Height="%2" Clip="%3"/>',[q(this).width,q(this).height,a]),c=this.lastCanvas_||q(this);c.children.add(b),this.lastCanvas_=b}},J.createPattern=function(){return new B},x.prototype.addColorStop=function(a,b){b=o(b),this.colors_.push({offset:a,color:b})},x.prototype.createStops_=function(a,b,c){for(var d,e=b.gradientStops,f=0;d=c[f];f++){var g=o(d.color);e.add(r(a,'<GradientStop Color="%1" Offset="%2"/>',[g,d.offset]))}},y.prototype=new x,y.prototype.createBrush_=function(a){var b=r(a,'<LinearGradientBrush MappingMode="Absolute" StartPoint="%1,%2" EndPoint="%3,%4"/>',[this.x0_,this.y0_,this.x1_,this.y1_]);return this.createStops_(a,b,this.colors_),b},A.prototype=new x,x.prototype.createBrush_=function(a){if(this.x0_==this.x1_&&this.y0_==this.y1_&&this.r0_==this.r1_)return null;var b=Math.max(this.r0_,this.r1_),c=Math.min(this.r0_,this.r1_),d=r(a,'<RadialGradientBrush MappingMode="Absolute" GradientOrigin="%1,%2" Center="%3,%4" RadiusX="%5" RadiusY="%5"/>',[this.x0_,this.y0_,this.x1_,this.y1_,b]),e=this.colors_.concat();if(this.r1_<this.r0_){e.reverse();for(var f,g=0;f=e[g];g++)f.offset=1-f.offset}if(e.sort(function(a,b){return a.offset-b.offset}),c>0)for(var f,g=0;f=e[g];g++)f.offset=c/b+(b-c)/b*f.offset;return this.createStops_(a,d,e),d},G_vmlCanvasManager=D,CanvasRenderingContext2D=v,CanvasGradient=x,CanvasPattern=B}();