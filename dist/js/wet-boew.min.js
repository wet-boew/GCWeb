/*! Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 - v4.0.0-a1-development - 2013-10-15
*/
!function(a,b,c,d){"use strict";var e,f={"default":"wet-boew"};e={init:function(b){return a.extend(f,b||{})},show:function(b){var c=a(this);c.each(function(){var c;c=a(this),c.attr("aria-hidden","false"),b===d&&c.removeClass("wb-invisible")})},hide:function(b){a(this).each(function(){var c;return c=a(this),c.attr("aria-hidden","true"),b===d?c.addClass("wb-invisible"):void 0})},toggle:function(b,c){a(this).addClass(b).removeClass(c)}},a.fn.wb=function(b){e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist on jquery.wb"):e.init.apply(this,arguments)}}(jQuery,window,document),function(a){"use strict";function b(b,d,e){var f,g,h,i=b.nodeName.toLowerCase();return"area"===i?(f=b.parentNode,g=f.name,b.href&&g&&"map"===f.nodeName.toLowerCase()?(h=a("img[usemap=#"+g+"]")[0],!!h&&c(h)):!1):e?(/input|select|textarea|button|object/.test(i)?!b.disabled:"a"===i?b.href||d:d)&&c(b):/input|select|textarea|button|object/.test(i)?!b.disabled:"a"===i?b.href||d:d}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},discoverable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}})}(jQuery),function(a,b,c){"use strict";var d=function(){var a="{{",b="}}",d="[a-z0-9_$][\\.a-z0-9_]*",e=new RegExp(a+"\\s*("+d+")\\s*"+b,"gi");return function(a,b){return a.replace(e,function(a,d){for(var e=d.split("."),f=e.length,g=b,h=0;f>h;h++){if(g=g[e[h]],g===c)throw"tim: '"+e[h]+"' not found in "+a;if(h===f-1)return g}})}}();b.tmpl=d}(jQuery,window),function(a,b,c,d,f){"use strict";var g,h,i,j,k,l,m,n,o,p,q,r,t,u;return g=a(c),j=".wet-boew-multimedia, .wb-multimedia",i=0,k=!1,h=c.documentElement.lang,m=function(a){var b,c,d,e,f;for(e=function(a,b){return Array(Math.max(b-String(a).length+1,0)).join(0)+a},f="",a=Math.floor(a),c=2;c>=0;)d=Math.pow(60,c),b=Math.floor(a/d),""!==f&&(f+=":"),f+=e(b,2),a-=d*b,c-=1;return f},q=function(a){var b,c,d,e,g;if(d=0,a!==f){if("s"===a.charAt(a.length-1))return parseFloat(a.substring(0,a.length-1));for(c=a.split(":").reverse(),b=0,g=c.length;g>b;)e=0===b?parseFloat(c[b]):parseInt(c[b],10),d+=e*Math.pow(60,b),b+=1;return d}return-1},l=function(b,c){var d,e,g;return g=a(b),d=g.data("properties"),c!==f?(e=d.player,[g,d,e]):[g,g.data("properties")]},p=function(b){var c,d,e;return d=".wet-boew-tt",e=b.find(d),c=[],e.each(function(){var b,d,e,g,h;return e=a(this),b=-1,g=-1,e.attr("data-begin")!==f?(b=q(e.attr("data-begin")),g=e.attr("data-end")!==f?q(e.attr("data-end")):q(e.attr("data-dur"))+b):e.attr("data")!==f&&(h=e.attr("data"),h=h.replace(/(begin|dur|end)/g,'"$1"').replace(/'/g,'"'),h=a.parseJSON(h),b=q(h.begin),g=void 0!==h.end?q(h.end):q(h.dur)+b),d=d.clone(),d.find(s).detach(),c[c.length]={text:d.html(),begin:b,end:g}}),c},r=function(b){var c,d,g;return d="[begin]",g=b.find(d),c=[],g.each(function(){var b,g,h;return g=a(this),b=-1,h=-1,b=q(g.attr("begin")),h=g.attr("end")!==f?q(g.attr("end")):q(g.attr("dur"))+b,g=e.clone(),g.find(d).detach(),c[c.length]={text:g.html(),begin:b,end:h}}),c},n=function(b,c){return a.ajax({url:c,context:evtmgr,dataType:"html",dataFilter:function(a){return a.replace(/<img [^>]*>/g,"")},success:function(c){var d;return d={type:"captionsloaded.mediaplayer.wb"},d.captions=c.indexOf("<html")>-1?p(a(c)):r(a(c)),a(b).trigger(d)},error:function(c,d,e){return a(b).trigger({type:"captionsloadfailed.mediaplayer.wb",error:e})}})},o=function(b,c){var d;return d={type:"captionsloaded.mediaplayer.wb",captions:p(c)},a(b).trigger(d)},u=function(b,c,d){var e,f,g,h;for(b.empty(),f=0,g=d.length,h=[];g>f;)e=d[f],c>=e.begin&&c<=e.end&&b.append(a("<div>"+e.text+"</div>")),h.push(f+=1);return h},t=function(b,c){var d,e,f,g;switch(b){case"play":try{return this.object.play()}catch(h){return e=h,this.object.doPlay()}break;case"pause":try{return this.object.pause()}catch(h){return e=h,this.object.doPause()}break;case"getCaptionsVisible":return d=a(this),d.find(".wb-mm-captionsarea").is(":visible");case"setCaptionsVisible":return d=a(this),c?d.find(".wb-mm-captionsarea").show():d.find(".wb-mm-captionsarea").hide(),d.trigger("captionsvisiblechange.mediaplayer.wb");case"setPreviousTime":return this.object.previousTime=c;case"setBuffering":return this.object.buffering=c;default:if(g=b.substr(0,3),f=b.substr(3),f=f.substr(0,1).toLowerCase()+f.substr(1),"get"===g)return"function"!=typeof this.object[f]?this.object[f]:this.object[f]();if("set"===g)return"function"!=typeof this.object[f]?this.object[f]=c:this.object[b](c)}},g.on("timerpoke.wb",j,function(){return b._timer.remove(j),k?void 0:(k=!0,g.trigger({type:"ajax-fetch.wb",element:a(j),fetch:""+d.getPath("/assets")+"/mediacontrol-"+h+".txt"}))}),g.on("ajax-fetched.wb",j,function(b){var c,d;return d=a(this),c=b.pointer.html(),d.data("template",c),d.trigger({type:"init.mediaplayer.wb"})}),g.on("init.mediaplayer.wb",j,function(){var b,c,d,e,g,h,j,k,l;return h=a(this),d=h.attr("id")!==f?h.attr("id"):"wb-mediaplayer-"+i++,g=h.children("audio, video").eq(0),e=g.attr("id")!==f?g.attr("id"):""+d+"-media",j=g.is("video")?"video":"audio",k="video"===j?g.attr("width"):"0",c="video"===j?g.attr("height"):"0",b=g.children("track[kind='captions']")?g.children("track[kind='captions']").attr("src"):f,l={id:d,media:g,m_id:e,type:j,height:c,width:k,object:""},g.attr("id")===f&&g.attr("id",e),h.data("properties",l),null===g.get(0).error&&""!==g.get(0).currentSrc&&g.get(0).currentSrc!==f?h.trigger(""+j+".mediaplayer.wb"):h.trigger("fallback.mediaplayer.wb")}),g.on("fallback.mediaplayer.wb",j,function(){var a,b,c,e;return e=l(this),c=e[0],a=e[1],a.flashvars="id="+a.id,b=d.getPath("/assets")+"/multimedia.swf?"+a.flashvars,a.poster="","video"===a.type?(a.poster='<img src="'+a.media.attr("poster")+'" class="img-responsive" height="'+a.height+'" width="'+a.width+'" alt="'+a.media.attr("title")+'"/>',a.flashvars="&height="+a.media.height()+"&width="+a.media.width()+"&posterimg="+encodeURI(d.getUrlParts(a.media.attr("poster")).absolute)+"&media="+encodeURI(d.getUrlParts(a.media.find("source").filter('[type="video/mp4"]').attr("src")).absolute)):a.flashvars="&media="+encodeURI(d.getUrlParts(a.media.find("source").filter("[type='audio/mp3']").attr("src")).absolute),a.sObject='<object id="'+a.m_id+'" width="'+a.width+'" height="'+a.height+'" class="'+a.type+'" type="application/x-shockwave-flash" data="'+b+'" tabindex="-1"><param name="movie" value="'+b+'"/><param name="flashvars" value="'+a.flashvars+'"/><param name="allowScriptAccess" value="always"/><param name="bgcolor" value="#000000"/><param name="wmode" value="opaque"/>'+a.poster+"</object>",c.data("properties",a),c.trigger("wb.mediaplayer.renderui")}),g.on("video.mediaplayer.wb",j,function(){var a,b,c;return c=l(this),b=c[0],a=c[1],a.sObject=a.media.wrap("<div />").parent().html(),a.poster='<img src="'+a.media.attr("poster")+'" class="img-responsive" height="'+a.height+'" width="'+a.width+'" alt="'+a.media.attr("title")+'"/>',b.data("properties",a),b.trigger("renderui.mediaplayer.wb")}),g.on("audio.mediaplayer.wb",j,function(){var a,b,c;return c=l(this),b=c[0],a=c[1],c}),g.on("renderui.mediaplayer.wb",j,function(){var b,c,d,e;return e=l(this),d=e[0],b=e[1],d.html(tmpl(d.data("template"),b)),c=a("#"+b.m_id),b.player=c.is("object")?c.children(":first-child"):c.load(),b.player.on("durationchange play pause ended volumechange timeupdate captionsloaded captionsloadfailed captionsvisiblechange waiting canplay progress",function(a){return d.trigger(a)}),this.object=c.get(0),this.player=t,d.data("properties",b)}),g.on("click",j,function(b){var c,d,e;return c=a(b.target),2===b.which||3===b.which?!1:((c.hasClass("playpause")||c.is("object")||c.hasClass("wb-mm-overlay"))&&(this.player("getPaused")===!0?this.player("play"):this.player("pause")),c.hasClass("cc")&&this.player("setCaptionsVisible",!this.player("getCaptionsVisible")),c.hasClass("mute")&&this.player("setMuted",!this.player("getMuted")),(c.is("progress")||c.hasClass("wb-progress-inner")||c.hasClass("wb-progress-outer"))&&(d=(b.pageX-c.offset().left)/c.width(),this.player("setCurrentTime",this.player("getDuration")*d)),(c.hasClass("rewind")||c.hasClass("fastforward"))&&(e=.05*this.player("getDuration"),c.hasClass("rewind")&&(e*=-1),this.player("setCurrentTime",this.player("getCurrentTime")+e)),!0)}),g.on("keydown",j,function(a){var b,c,d,e;return e=l(this),c=e[0],b=e[1],d=0,32!==a.which&&13!==a.which||a.target!==this.player?37===a.keyCode?(c.find(".wb-mm-controls .rewind").click(),!1):39===a.keyCode?(c.find(".wb-mm-controls .fastforward").click(),!1):38===a.keyCode?(d=Math.round(10*this.player.getVolume())/10+.1,d=1>d?d:1,$player.setVolume(d),!1):40===a.keyCode?(d=Math.round(10*this.player.getVolume())/10-.1,d=d>0?d:0,this.player.setVolume(d),!1):!0:(c.find(".wb-mm-controls .playpause").click(),!1)}),g.on("durationchange play pause ended volumechange timeupdate captionsloaded captionsloadfailed captionsvisiblechange waiting canplay progress",j,function(b){var c,d,e,h;switch(c=a(this),b.type){case"play":this.player("play"),d=c.find(".playpause .glyphicon"),d.removeClass("glyphicon-play").addClass("glyphicon-pause").end().attr("title",d.data("state-off")),c.find(".wb-mm-overlay img").css("visibility","hidden"),c.find(".progress").addClass("active");break;case"pause":this.player("pause"),d=c.find(".playpause .glyphicon"),d.removeClass("glyphicon-pause").addClass("glyphicon-play").end().attr("title",d.data("state-on")),c.find(".progress").removeClass("active");break;case"ended":d=c.find(".playpause .glyphicon"),d.removeClass("glyphicon-pause").addClass("glyphicon-play").end().attr("title",d.data("state-on")),c.find(".wb-mm-overlay").css("visibility","show");break;case"volumechange":d=c.find(".mute .glyphicon"),this.player("getMuted")?d.removeClass("glyphicon-volume-up").addClass("glyphicon-volume-off").end().attr("title",d.data("state-on")):d.removeClass("glyphicon-volume-off").addClass("glyphicon-volume-up").end().attr("title",d.data("state-off"));break;case"timeupdate":e=Math.round(1e3*(this.player("getCurrentTime")/this.player("getDuration")))/10,h=c.find("progress"),h.attr("value",e),c.find(".wb-mm-timeline-current span:not(.wb-invisible)").text(m(this.player("getCurrentTime"))),a.data(b.target,"captions")!==f&&u(c.find(".wb-mm-captionsarea"),this.player("getCurrentTime"),a.data(b.target,"captions"));break;case"captionsloaded":a.data(b.target,"captions",b.captions);break;case"captionsloadfailed":c.find(".wb-mm-captionsarea").append("<p>ERROR: WB0342</p>");break;case"captionsvisiblechange":d=c.find(".cc .glyphicon"),this.player("getCaptionsVisible")?d.attr("title",d.data("state-on")).css("opacity","1"):d.attr("title",d.data("state-off")).css("opacity",".5")}return g.on("loadcaptions.mediaplayer.wb",j,function(){var a,b,c;return c=l(this),b=c[0],a=c[1],c})}),b._timer.add(j)}(jQuery,window,document,vapour,void 0),function(a,b,c){"use strict";a.ajaxSettings.cache=!1;var d,e=c.doc;d=function(a){for(var b,c,d,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f=a,g="",h=0;f>h;)b=Math.floor(2*Math.random()),0===b?(c=Math.floor(9*Math.random()),g+=c):(d=Math.floor(Math.random()*e.length),g+=e.substring(d,d+1)),h++;return g},e.on("ajax-fetch.wb",function(b){var c=b.element,e=b.fetch,f="wb"+d(8);a("<div id='"+f+"' />").load(e,function(){a(c).trigger({type:"ajax-fetched.wb",pointer:a(this)})})})}(jQuery,window,vapour),function(a,b,c){"use strict";var d,e=c.doc,f=".wb-carousel",g=f+" .prv, "+f+" .nxt, "+f+" .plypause";d={onTimerPoke:function(a){var b,c;return void 0===a.attr("data-delay")?(a.trigger("carousel-init.wb"),!1):a.hasClass("stopped")?!1:(b=parseFloat(a.attr("data-delay")),c=parseFloat(a.attr("data-ctime")),c+=.5,c>b&&(a.trigger("shift.wb"),c=0),a.attr("data-ctime",c),void 0)},onInit:function(a){var b=6;a.hasClass("slow")&&(b=9),a.hasClass("fast")&&(b=3),a.find(".item:not(.in)").addClass("out"),a.attr("data-delay",b).attr("data-ctime",0)},onShift:function(a){var b=a.find(".item"),c=a.find(".item.in").prevAll(".item").length,d=event.shiftto?event.shiftto:1,e=c>b.length?0:c+d;e=e>b.length-1||0>e?0:e,b.eq(c).removeClass("in").addClass("out"),b.eq(e).removeClass("out").addClass("in")},onCycle:function(a,b){a.trigger("shift.wb",{shiftto:b})}},e.on("timerpoke.wb carousel-init.wb shift.wb",f,function(b){var c=b.type,e=a(this);switch(c){case"timerpoke":d.onTimerPoke.apply(this,e);break;case"carousel-init":d.onInit.apply(this,e);break;case"shift":d.onShift.apply(this,e)}return!1}),e.on("click",g,function(b){b.preventDefault();var c=a(this),e=c.parents(".wb-carousel"),f=c.attr("class");switch(f){case"prv":d.onCycle.apply(this,c,1);break;case"nxt":d.onCycle.apply(this,c,-1);break;default:e.toggleClass("stopped")}return e.attr("data-ctime",0),!1}),b._timer.add(".wb-carousel")}(jQuery,window,vapour),function(a,b,c){"use strict";a.ajaxSettings.cache=!1;var d=c.doc;d.on("timerpoke.wb ajax-fetched.wb","[data-ajax-append]",function(c){var e,f=c.type,g=a(this);switch(f){case"timerpoke":b._timer.remove("[data-ajax-after]"),e=g.data("ajax-after"),d.trigger({type:"ajax-fetch.wb",element:g,fetch:e});break;case"ajax-fetched":g.after(c.pointer.html()),g.trigger("ajax-after-loaded.wb")}return!1}),b._timer.add("[data-ajax-after]")}(jQuery,window,vapour),function(a,b,c){"use strict";a.ajaxSettings.cache=!1;var d=c.doc;d.on("timerpoke.wb ajax-fetched.wb","[data-ajax-append]",function(c){var e,f=c.type,g=a(this);switch(f){case"timerpoke":b._timer.remove("[data-ajax-append]"),e=g.data("ajax-append"),d.trigger({type:"ajax-fetch.wb",element:g,fetch:e});break;case"ajax-fetched":g.append(c.pointer.html()),g.trigger("ajax-append-loaded.wb")}return!1}),b._timer.add("[data-ajax-append]")}(jQuery,window,vapour),function(a,b,c){"use strict";a.ajaxSettings.cache=!1;var d=c.doc;d.on("timerpoke.wb ajax-fetched.wb","[data-ajax-before]",function(c){var e,f=c.type,g=a(this);switch(f){case"timerpoke":b._timer.remove("[data-ajax-before]"),e=g.data("ajax-before"),d.trigger({type:"ajax-fetch.wb",element:g,fetch:e});break;case"ajax-fetched":g.before(c.pointer.html()),g.trigger("ajax-after-loaded.wb")}return!1}),b._timer.add("[data-ajax-before]")}(jQuery,window,vapour),function(a,b,c){"use strict";var d=c.doc;d.on("timerpoke.wb",".wb-inview",function(){b._timer.remove(".wb-inview");var d=c.win,e=a(this),f=e.find(".pg-banner, .pg-panel").attr("role","toolbar").attr("aria-hidden","true");return d.on("scroll scrollstop resize",function(){e.trigger("scroll.wb-inview")}),e.on("scroll.wb-inview",function(){var b=a(this),c=d,e=b.outerWidth(),g=b.outerHeight(),h=c.height(),i=c.scrollTop(),j=c.scrollLeft(),k=j+e,l=i+h,m=b.offset().left,n=m+e,o=b.offset().top,p=o+g;return o>l||i>p||m>k||k>n?f.removeClass("in").addClass("out").wb("hide",!0):f.removeClass("out").addClass("in").wb("show",!0),!1}),e.trigger("scroll.wb-inview"),!1}),b._timer.add(".wb-inview")}(jQuery,window,vapour),function(a,b,c){"use strict";var d={selector:"[data-picture]",init:function(){b._timer.remove(d.selector),a(this).trigger("picturefill.wb-data-picture")},resize:function(){a(d.selector).trigger("picturefill.wb-data-picture")},picturefill:function(){var a,d,e,f,g=[],h=this.getElementsByTagName("img")[0],i=this.getElementsByTagName("span");for(a=0,d=i.length;d>a;a++)f=i[a].getAttribute("data-media"),(null===f||b.Modernizr.mq(f))&&g.push(i[a]);0!==g.length?(e=g.pop(),void 0===h&&(h=c.doc[0].createElement("img"),h.alt=this.getAttribute("data-alt")),h.src=e.getAttribute("data-src"),e.appendChild(h)):void 0!==h&&h.parentNode.removeChild(h)}};c.doc.on("timerpoke.wb picturefill.wb-data-picture",d.selector,function(a){switch(a.type){case"timerpoke":d.init.apply(this,arguments);break;case"picturefill":d.picturefill.apply(this,arguments)}}),c.doc.on("text-resize.wb window-resize-width.wb window-resize-height.wb",d.resize),b._timer.add(d.selector)}(jQuery,window,vapour),function(a,b,c){"use strict";a.ajaxSettings.cache=!1;var d=c.doc;d.on("timerpoke.wb","[data-ajax-replace]",function(){b._timer.remove("[data-ajax-replace]");var c=a(this),d=c.data("ajax-replace");return c.load(d,function(){c.removeAttr("data-ajax-replace").trigger("ajax-replace-loaded.wb")}),!1}),b._timer.add("[data-ajax-replace]")}(jQuery,window,vapour),function(a,b,c){"use strict";var d=".wb-equalheight",e=c.doc,f={init:function(a){b._timer.remove(d),f.onResize(a)},onResize:function(a){var b,c,d=a.children(),e=[],g=-1,h=-1,i=-1,j=-1;for(c=d.length-1;c>=0;c--)b=d[c],b.style.verticalAlign="top",h=b.offsetTop,i=b.offsetHeight,h!==g?(f.setRowHeight(e,j),g=h,j=i):j=i>j?i:j,e.push(b);0!==e.length&&f.setRowHeight(e,j)},setRowHeight:function(a,b){for(var c=a.length-1;c>=0;c--)a[c].style.height=b+"px";a.length=0}};e.on("timerpoke.wb",d,function(){var b=a(this);return f.init.apply(this,[b]),!0}),e.on("text-resize.wb window-resize-width.wb window-resize-height.wb",function(){var b=a(this);return f.onResize.apply(this,[b]),!0}),b._timer.add(d)}(jQuery,window,vapour),function(a,b,c){"use strict";var d={selector:"link[rel='shortcut icon']",defaults:{filename:"favicon-mobile.png",path:null,rel:"apple-touch-icon",sizes:"57x57 72x72 114x114 144x144 150x150"},init:function(){var c=a(this),e=a.extend({},d.defaults,c.data());b._timer.remove(d.selector),c.trigger("mobile.wb-favicon",e)},mobile:function(b,c){var e,f=this,g=a("link[rel^='apple']"),h=0!==g.length;h||(g=a("<link rel='"+c.rel+"' sizes='"+c.sizes+"' class='wb-favicon'>")),g.hasClass("wb-favicon")&&(e=null!==c.path?c.path:d.getPath(f.getAttribute("href")),g.attr("href",e+c.filename),h||f.parentNode.insertBefore(g[0],f))},icon:function(a,b){var c=null!==b.path?b.path:d.getPath(this.getAttribute("href"));this.setAttribute("href",c+b.filename)},getPath:function(a){return a.substring(0,a.lastIndexOf("/")+1)}};c.doc.on("timerpoke.wb mobile.wb-favicon icon.wb-favicon",d.selector,function(a){switch(a.type){case"timerpoke":d.init.apply(this,arguments);break;case"mobile":d.mobile.apply(this,arguments);break;case"icon":d.icon.apply(this,arguments)}}),b._timer.add(d.selector)}(jQuery,window,vapour),function(a,b,c,d){"use strict";var e=".wb-feedback",f=d.doc,g={init:function(g){b._timer.remove(e);var h=g.find("#feedback"),i=g.find("#web"),j=c.getElementById("access"),k=i.find("#mobile"),l=i.find("#computer"),m=c.getElementById("contact1"),n=c.getElementById("contact2"),o=g.find("#info"),p=c.referrer,q=d.pageUrlParts.params,r="load.wb-feedback",s=a.Event(r,{target:h[0]}),t=a.Event(r,{target:j}),u=a.Event(r,{target:m}),v=a.Event(r,{target:n});f.on("keydown click "+r,"#feedback, #access, #contact1, #contact2",function(a){var b,d,e="load"===a.type,f=this.id,g=a.which;if(e||2!==g&&3!==g){switch(f){case"feedback":"web"===this.value?b=i:d=i;break;case"access":"mobile"===this.value?(b=k,d=l):(b=l,d=k);break;case"contact1":case"contact2":c.getElementById("contact1").checked||c.getElementById("contact2").checked?b=o:d=o}return b&&b.attr("aria-hidden","false").show("slow"),d&&d.attr("aria-hidden","true").hide("slow"),!0}}),!q.submit&&q.feedback&&h.find('option[value="'+q.feedback+'"]').attr("selected","selected"),h.attr("aria-controls","web"),j.setAttribute("aria-controls","mobile computer"),f.trigger(s).trigger(t).trigger(u).trigger(v),c.getElementById("page").setAttribute("value",p),f.on("click",".wb-feedback input[type=reset]",function(a){var b=a.which;2!==b&&3!==b&&f.trigger(s).trigger(t).trigger(u).trigger(v)})}};f.on("timerpoke.wb",e,function(b){var c=b.type,d=a(this);switch(c){case"timerpoke":g.init.apply(this,[d])}return!0}),b._timer.add(e)}(jQuery,window,document,vapour),function(a,b,c,d){"use strict";var e=".wb-footnotes",f=d.doc,g={init:function(a){b._timer.remove(e);var c,g,h,i,j,k,l,m,n,o=f.find("main").not(".wb-footnotes"),p=this.getElementsByTagName("dd"),q=this.getElementsByTagName("dt");for(g=p.length,c=0;c!==g;c+=1)h=p[c],i=q[c],j=h.id+"-dt",h.setAttribute("tabindex","-1"),h.setAttribute("aria-labelledby",j),i.id=j;for(l=a.find("dd p.footnote-return a"),g=l.length,c=0;c!==g;c+=1)m=l.eq(c),m.find("span span").remove();l.off("click vclick").on("click.wb-footnotes vclick.wb-footnotes",function(a){return k=a.which,k&&1!==k?void 0:(n=d.jqEscape(this.getAttribute("href")).substring(1),setTimeout(function(){o.find(n+" a").focus()},0),!1)}),o.find("sup a.footnote-link").on("click vclick",function(b){var c=a.find(d.jqEscape(this.getAttribute("href")).substring(1)),e=b.which;return e&&1!==e?void 0:(c.find("p.footnote-return a").attr("href","#"+this.parentNode.id).off("click vclick").on("click.wb-footnotes vclick.wb-footnotes",function(a){var b,c=a.which;return c&&1!==c?void 0:(b=d.jqEscape(this.getAttribute("href")).substring(1),setTimeout(function(){o.find(b+" a").focus()},0),!1)}),setTimeout(function(){c.focus()},0),!1)})}};f.on("timerpoke.wb",e,function(){return g.init.apply(this,[a(this)]),!0}),b._timer.add(e)}(jQuery,window,document,vapour),function(a,b,c,d){"use strict";var e,f,g=".wb-formvalid",h=d.doc,i={init:function(c){b._timer.remove(g);var i=d.getMode()+".js";f||(e=b.i18n,f={colon:e("%colon"),hyphen:e("%hyphen"),error:e("%error"),errorFound:e("%error-found"),errorsFound:e("%errors-found"),formNotSubmitted:e("%form-not-submitted")}),b.Modernizr.load({both:["site!deps/jquery.validate"+i,"site!deps/additional-methods"+i],complete:function(){var e,g,i,j,k=c.find("form"),l=k.get(0),m=k.attr("id"),n=l.getElementsByTagName("label"),o=n.length,p=k.find("input, select, textarea"),q=p.filter("input"),r=q.filter("[pattern]"),s=!1,t=k.find("[required]").attr("aria-required","true"),u="errors-"+(m?m:"default"),v=a('<div class="arialive wb-invisible" aria-live="polite" aria-relevant="all"></div>');for(c.append(v),g=o,e=0;e!==g;e+=1)n[e].innerHTML+=" ";for(g=r.length,e=0;e!==g;e+=1)r.eq(e).removeAttr("pattern");if(h.on("click vclick touchstart","input[type=reset]",function(a){var b,c=a.button;c&&1!==c||(j.resetForm(),b=k.find("#"+u),b.length>0&&b.empty()),k.find("[aria-invalid=true]").removeAttr("aria-invalid"),0!==v.html().length&&v.empty()}),d.ieVersion>0&&d.ieVersion<9){for(g=t.length,t.removeAttr("required"),e=0;e!==g;e+=1)t[e].setAttribute("data-rule-required","true");q.filter("[type=date]").each(function(){var b=a(this),c=b.wrap("<div/>").parent(),d=a(c.html().replace("type=date","type=text"));c.replaceWith(d)}),p=k.find("input, select, textarea")}j=k.validate({meta:"validate",focusInvalid:!1,errorElement:"strong",errorPlacement:function(a,b){var c,d,e=b.attr("type");return a.data("element-id",b.attr("id")),!e||(e=e.toLowerCase(),"radio"!==e&&"checkbox"!==e||(c=b.closest("fieldset"),0===c.length||(d=c.find("legend").first(),0===d.length||1===c.find("input[name="+b.attr("name")+"]"))))?(a.appendTo(k.find("label[for="+b.attr("id")+"]")),void 0):(a.appendTo(d),void 0)},showErrors:function(c){this.defaultShowErrors();var d,g,j=f,l=k.find("strong.error").filter(":not(:hidden)"),m=k.find("input.error, select.error, textarea.error"),n=k.find("#"+u),o='<span class="prefix">'+j.error+"&#160;",p=j.colon+" </span>",q=j.hyphen;if(k.find("[aria-invalid=true]").removeAttr("aria-invalid"),0!==l.length){if(0===n.length?n=a('<div id="'+u+'" class="errorContainer" tabindex="-1"/>').prependTo(k):n.empty(),d="<p>"+j.formNotSubmitted+l.length+(1!==l.length?j.errorsFound:j.errorFound)+"</p><ul>",m.attr("aria-invalid","true"),l.each(function(b){var c,e=a(this),f=o+(b+1)+p,g=e.closest("label").find(".field-name");0===g.length&&(c=e.closest("fieldset"),0!==c.length&&(g=c.find("legend .field-name"))),e.find("span.prefix").detach(),d+='<li><a href="#'+e.data("element-id")+'">'+f+(0!==g.length?g.html()+q:"")+this.innerHTML+"</a></li>",e.prepend(f)}),d+="</ul>",n.append(d),s)setTimeout(function(){n.focus()},0);else{e=0;for(g in c)if(c.hasOwnProperty(g)){e+=1;break}0!==e?(i=l.filter("[for="+g+"]")[0].innerHTML,i!==v.html()&&v.html(i)):0!==v.html().length&&v.empty()}h.on("click vclick",".wb-formvalid .errorContainer a",function(c){var d=this.href.substring(this.href.indexOf("#")),e=a(d),f=e.prev(),g=0===f.length?e.closest("fieldset").find("legend"):[],h=0!==f.length?f.offset().top:0!==g.length?g.offset().top:-1,i=c.which;return i&&1!==i?void 0:(setTimeout(function(){e.focus()},0),-1!==h&&b.scroll(0,h),!1)}),s=!1}else 0!==v.html().length&&v.empty(),n.detach()},invalidHandler:function(){s=!0}})}})}};h.on("timerpoke.wb",g,function(b){var c=b.type,d=a(this);switch(c){case"timerpoke":i.init.apply(this,[d])}return!0}),b._timer.add(g)}(jQuery,window,document,vapour),function(a,b,c){"use strict";var d,e,f=".wb-lightbox",g=c.doc,h=!1,i={init:function(g){b._timer.remove(f);var i=c.getMode()+".js";e||(d=b.i18n,e={tClose:d("%close"),tLoading:d("%loading"),gallery:{tPrev:d("%lb-previous"),tNext:d("%lb-next"),tCounter:d("%lb-current40")},image:{tError:d("%lb-img-error")+' (<a href="%url%">)'},ajax:{tError:d("%lb-xhr-error")+' (<a href="%url%">)'}}),b.Modernizr.load({load:"site!deps/jquery.magnific-popup"+i,complete:function(){var b,c={};h||(a.extend(!0,a.magnificPopup.defaults,e),h=!0),"a"!==g[0].nodeName.toLowerCase()?(c.delegate="a",c.type="image",(g.hasClass("lb-gallery")||g.hasClass("lb-hidden-gallery"))&&(c.gallery={enabled:!0}),g.magnificPopup(c)):(b=g.children(),c.type=0!==b.length&&"img"===b[0].nodeName.toLowerCase()?"image":"#"===g.attr("href").slice(0,1)?"inline":g.hasClass("lb-iframe")?"iframe":"ajax",g.magnificPopup(c))}})}};g.on("timerpoke.wb",f,function(b){var c=b.type,d=a(this);switch(c){case"timerpoke":i.init.apply(this,[d])}return!0}),b._timer.add(f)}(jQuery,window,vapour),function(a,b,c){"use strict";var d,e,f=c.doc;d=function(b,c){var d=a(b),e=d.hasClass("wb-menu")?d.data():d.parents(".wb-menu").first().data(),f=c?e.items.has(b):e.items;return[e.self,e.menu,f,d]},e={onAjaxLoaded:function(a){var b=a.find(".menu :focusable"),c=a.find(".item");a.has("[data-post-remove]")&&a.removeClass(a.data("post-remove")).removeAttr("data-post-remove"),a.find(":discoverable").attr("tabindex","-1").eq(0).attr("tabindex","0"),b.filter("[href^='#']").append("<span class='expandicon'></span>"),a.data({self:a,menu:b,items:c})},onSelect:function(a){var b=a.goto;setTimeout(function(){return b.focus()},1)},onIncrement:function(a,b){var c=b.cnode,d=b.current+b.increment,e=d;d>=c.length&&(e=0),0>d&&(e=c.length-1),a.trigger({type:"select.wb","goto":c.eq(e)})},onReset:function(a){a.find(".open").removeClass("open"),a.find(".active").removeClass("active")},onDisplay:function(a,b){a.trigger({type:"reset.wb"}),a.find(".menu [href='"+b.ident+"']").addClass("active"),a.find(b.ident).addClass("open")},onHoverFocus:function(a){var b=d(a.target),c=b[1],e=b[3];c.trigger("reset.wb"),e.find(".expandicon").length>0&&c.trigger({type:"display.wb",ident:e.attr("href")})}},f.on("ajax-replace-loaded.wb mouseleave focusout select.wb increment.wb reset.wb display.wb",".wb-menu",function(b){var c=b.type,d=a(this);switch(c){case"ajax-replace-loaded":return b.stopPropagation(),e.onAjaxLoaded(d),!1;case"mouseleave":case"focusout":d.trigger("reset.wb");break;case"select":b.stopPropagation(),e.onSelect(b);break;case"increment":b.stopPropagation(),e.onIncrement(d,b);break;case"reset":b.stopPropagation(),e.onReset(d);break;case"display":b.stopPropagation(),e.onDisplay(d,b)}}),f.on("mouseover focusin",".wb-menu .menu :focusable",function(a){a.stopPropagation(),e.onHoverFocus(a)}),f.on("keydown",".wb-menu .menu",function(a){a.stopPropagation();var b,c,e=d(a.target),f=e[0],g=e[1],h=e[2],i=e[3],j=a.which,k=g.index(i.get(0));switch(j){case 13:case 40:i.find(".expandicon").length>0&&(a.preventDefault(),b=i.attr("href").slice(1),c=h.filter("[id='"+b+"']").find(":discoverable").first(),f.trigger({type:"display.wb",ident:i.attr("href")}).trigger({type:"select.wb","goto":c}));break;case 9:f.trigger({type:"reset.wb"});break;case 37:a.preventDefault(),f.trigger({type:"increment.wb",cnode:g,increment:-1,current:k});break;case 39:a.preventDefault(),f.trigger({type:"increment.wb",cnode:g,increment:1,current:k})}}),f.on("keydown",".wb-menu .item",function(a){a.stopPropagation();var b,c=d(a.target,!0),e=c[0],f=c[1],g=c[2],h=c[3],i=a.which,j=g.find(":focusable"),k=j.index(h.get(0));switch(i){case 27:case 37:a.preventDefault(),b=f.filter("[href='#"+g.attr("id")+"']"),e.trigger({type:"select.wb","goto":b});break;case 38:a.preventDefault(),e.trigger({type:"increment.wb",cnode:j,increment:-1,current:k});break;case 40:a.preventDefault(),e.trigger({type:"increment.wb",cnode:j,increment:1,current:k})}})}(jQuery,window,vapour),function(a,b,c){"use strict";var d=c.doc,e={breadcrumbLinksArray:null,breadcrumbLinksUrlArray:null,navClass:"wb-navcurrent",navCurrent:function(a,c){var d,f,g,h,i,j,k,l,m,n,o,p=a.target.getElementsByTagName("a"),q=[],r=[],s=b.location,t=s.hostname+s.pathname.replace(/^([^\/])/,"/$1"),u=s.search,v=!1,w=p.length;for(d=0;d!==w;d+=1)if(g=p[d],h=g.getAttribute("href"),null!==h&&0!==h.length&&"#"!==h.slice(0,1)){if(i=g.hostname+g.pathname.replace(/^([^\/])/,"/$1"),k=g.search,l=k.length,t.slice(-i.length)===i&&(0===l||u.slice(-l)===k)){v=!0;break}q.push(g),r.push(i)}if(!v&&c){if(e.breadcrumbLinksArray)n=e.breadcrumbLinksArray,o=e.breadcrumbLinksUrlArray;else{for(n=[],o=[],m=("undefined"!=typeof c.jquery?c[0]:c).getElementsByTagName("a"),w=m.length,d=0;d!==w;d+=1)g=m[d],h=g.getAttribute("href"),0!==h.length&&"#"!==h.slice(0,1)&&(n.push(g),o.push(g.hostname+g.pathname.replace(/^([^\/])/,"/$1")));e.breadcrumbLinksArray=n,e.breadcrumbLinksUrlArray=o}for(w=q.length,d=0;d!==w;d+=1){for(g=q[d],i=r[d],j=i.length,k=g.search,l=k.length,f=n.length-1,f=n.length-1;-1!==f;f-=1)if(o[f].slice(-j)===i&&(0===l||n[f].search.slice(-l)===k)){v=!0;break}if(v)break}}v&&(g.className+=" "+e.navClass)}};d.on("navcurrent.wb",e.navCurrent)}(jQuery,window,vapour),function(a,b,c){"use strict";var d={selector:".prettyprint",executed:!1,defaults:{allLinenums:!1,allPre:!1},init:function(){var e,f,g,h,i,j,k,l,m,n,o;if(b._timer.remove(d.selector),d.executed===!1){for(d.executed=!0,n=c.doc[0].getElementsByTagName("pre"),l=c.getMode()+".js",o=a.extend({},d.defaults),g=["site!deps/prettify"+l],h=0,k=n.length;k>h;h++)for(m=n[h],f="string"==typeof m.className?m.className:"",!o.allLinenums&&/all\-linenums/.test(f)&&(o.allLinenums=!0),!o.allPre&&/all\-pre/.test(f)&&(o.allPre=!0),f=m.className.split(" "),i=0,j=f.length;j>i;i++)e=f[i],0===e.indexOf("lang-")&&g.push("site!deps/"+e+l);(o.allPre||o.allLinenums)&&(n=a(n),o.allPre&&n.addClass(d.selector.substring(1)),o.allLinenums&&n.filter(d.selector).addClass("linenums")),b.Modernizr.load({load:g,complete:function(){c.doc.trigger("prettyprint.wb-prettify")}})}},prettyprint:function(){"function"==typeof b.prettyPrint&&b.prettyPrint()}};c.doc.on("timerpoke.wb",d.selector,d.init).on("prettyprint.wb-prettify",d.prettyprint),b._timer.add(d.selector)}(jQuery,window,vapour),function(a,b,c,d){"use strict";var e="wb-resize-test",f="#"+e,g=d.win,h=d.doc,i={sizes:[],events:["text-resize.wb","window-resize-width.wb","window-resize-height.wb"],eventsAll:null,resizeTest:null,init:function(){var a=c.createElement("span");a.innerHTML="&#160;",a.setAttribute("id",e),c.body.appendChild(a),i.resizeTest=a,i.sizes=[a.offsetHeight,g.width(),g.height()],i.eventsAll=i.events.join(" ")},test:function(){var a,b=[i.resizeTest.offsetHeight,g.width(),g.height()],c=b.length;for(a=0;a!==c;a+=1)b[a]!==i.sizes[a]&&h.trigger(i.events[a],b);i.sizes=b}};i.init(),h.on("timerpoke.wb",f,i.test),b._timer.add(f)}(jQuery,window,document,vapour),function(a,b,c){"use strict";var d={selector:".wb-session-timeout",i18nText:null,defaults:{inactivity:12e5,reaction:3e4,keepalive:12e5,keepaliveurl:null,logouturl:"./",refreshonclick:!1,refreshlimit:2e5},init:function(){var c=a(this),e=a.extend({},d.defaults,c.data());b._timer.remove(d.selector),null===d.i18nText&&(d.i18nText={timeout:b.i18n("%st-timeout-msg"),timeoutAlready:b.i18n("%st-already-timeout-msg")}),c.trigger("reset.wb-session-timeout",e),d.initRefreshOnClick(c,e)
},initRefreshOnClick:function(a,b){b.refreshonclick&&c.doc.on("click",function(){var c=a.data("lastActivity");(void 0===c||d.getCurrentTime()-c>b.refreshlimit)&&a.trigger("reset.wb-session-timeout",b).trigger("keepalive.wb-session-timeout",b),a.data("lastActivity",d.getCurrentTime())})},keepalive:function(c,e){null!==e.keepaliveurl&&a.post(e.keepaliveurl,function(c){c&&"true"===c.replace(/\s/g,"")?a(this).trigger("reset.wb-session-timeout",e):(b.alert(d.i18nText.timeoutAlready),b.location.href=e.logouturl)})},inactivity:function(c,e){var f=d.getCurrentTime();d.confirmTimeout(e.reaction)&&d.getCurrentTime()-f<=e.reaction?a(this).trigger("reset.wb-session-timeout",e).trigger("keepalive.wb-session-timeout",e):b.location.href=e.logouturl},reset:function(b,c){var e=a(this);d.initEventTimeout(e,"inactivity.wb-session-timeout",c.inactivity,c),null!==c.keepaliveurl&&d.initEventTimeout(e,"keepalive.wb-session-timeout",c.keepalive,c)},initEventTimeout:function(a,b,c,e){clearTimeout(a.data(b)),a.data(b,setTimeout(function(){a.trigger(b,e)},d.parseTime(c)))},confirmTimeout:function(a){var e,f=c.doc[0].activeElement;return e=b.confirm(d.i18nText.timeout.replace("#expireTime#",d.getExpireTime(a))),f.focus(),e},getCurrentTime:function(){return(new Date).getTime()},parseTime:function(b){var c,d,e,f={ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6};return null==b?null:(c=/^([0-9]+(?:\.[0-9]*)?)\s*(.*s)?$/.exec(a.trim(b.toString())),c[2]?(d=parseFloat(c[1]),e=f[c[2]]||1,d*e):b)},getExpireTime:function(a){var b=new Date(d.getCurrentTime()+a),c=b.getHours(),e=b.getMinutes(),f=b.getSeconds(),g=12>c?" AM":" PM";return c%=12,0===c&&(c=12),c=10>c?"0"+c:c,e=10>e?"0"+e:e,f=10>f?"0"+f:f,c+":"+e+":"+f+g}};c.doc.on("timerpoke.wb keepalive.wb-session-timeout inactivity.wb-session-timeout reset.wb-session-timeout",d.selector,function(a){switch(a.type){case"timerpoke":d.init.apply(this,arguments);break;case"keepalive":d.keepalive.apply(this,arguments);break;case"inactivity":d.inactivity.apply(this,arguments);break;case"reset":d.reset.apply(this,arguments)}}),b._timer.add(d.selector)}(jQuery,window,vapour),function(a,b,c,d){"use strict";var e=".wb-texthighlight",f=d.doc,g={init:function(a){b._timer.remove(e);var c,f=d.pageUrlParts.params.texthighlight;f&&(f=f.replace(/^\s+|\s+$|\|+|\"|\(|\)/g,"").replace(/\++/g,"|"),f=decodeURIComponent(f),f="(?=([^>]*<))([\\s'])?("+f+")(?!>)",c=a.html().replace(new RegExp(f,"gi"),function(a,b,c,d){return(c?c:"")+"<span class='texthighlight'><mark>"+d+"</mark></span>"}),a.html(c))}};f.on("timerpoke.wb",e,function(){return g.init.apply(this,[a(this)]),!0}),b._timer.add(e)}(jQuery,window,document,vapour),function(a,b,c){"use strict";var d=c.doc,e={selector:".wb-toggle",state:{},stateOn:"on",stateOff:"off",init:function(){var c=a(this);b._timer.remove(e.selector),void 0!==c.data("selector")?c.trigger("ariaControls.wb-toggle",{selector:c.data("selector"),parent:c.data("parent")}):a.error(".wb-toggle: you must specify a [data-selector] attribute with the CSS selector of the element(s) the toggle link controls.")},setAriaControls:function(b,c){var d,e,f,g=void 0!==c.parent?a(c.parent).find(c.selector):a(c.selector),h="",i=a(this);for(e=0,f=g.length;f>e;e++)d=g.eq(e),void 0===d.attr("id")&&d.attr("id","wb-toggle_"+e),h+=d.attr("id")+" ";i.attr("aria-controls",h.slice(0,-1))},click:function(b){var c=a(this);c.trigger("toggle.wb-toggle",{selector:c.data("selector"),parent:c.data("parent"),type:c.data("type")}),b.preventDefault(),b.target.focus()},toggle:function(b,c){var d=void 0!==c.parent?a(c.parent).find(c.selector):a(c.selector),f=e.getState(c.selector,c.parent,c.type),g=f===e.stateOn?e.stateOff:e.stateOn;d.wb("toggle",g,f),e.setState(c.selector,c.parent,g)},getState:function(a,b,c){return void 0===c?e.state.hasOwnProperty(a)?e.state[a].hasOwnProperty(b)?e.state[a][b]:e.state[a].all:e.stateOff:c===e.stateOn?e.stateOff:e.stateOn},setState:function(a,b,c){var d;if(void 0===e.state[a]&&(e.state[a]={all:e.stateOff}),void 0!==b)e.state[a][b]=c;else for(d in e.state[a])e.state[a].hasOwnProperty(d)&&(e.state[a][d]=c)}};d.on("timerpoke.wb ariaControls.wb-toggle toggle.wb-toggle click",e.selector,function(a){switch(a.type){case"click":e.click.apply(this,arguments);break;case"toggle":e.toggle.apply(this,arguments);break;case"ariaControls":e.setAriaControls.apply(this,arguments);break;case"timerpoke":e.init.apply(this,arguments)}}),b._timer.add(e.selector)}(jQuery,window,vapour);